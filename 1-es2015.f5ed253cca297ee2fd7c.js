(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{cp0P:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("HDdC"),r=s("DH7j"),l=s("lJxs"),n=s("XoHu"),o=s("Cfvw");function a(...e){if(1===e.length){const t=e[0];if(Object(r.a)(t))return h(t,null);if(Object(n.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return h(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return h(e=1===e.length&&Object(r.a)(e[0])?e[0]:e,null).pipe(Object(l.a)(e=>t(...e)))}return h(e,null)}function h(e,t){return new i.a(s=>{const i=e.length;if(0===i)return void s.complete();const r=new Array(i);let l=0,n=0;for(let a=0;a<i;a++){const h=Object(o.a)(e[a]);let c=!1;s.add(h.subscribe({next:e=>{c||(c=!0,n++),r[a]=e},error:e=>s.error(e),complete:()=>{l++,l!==i&&c||(n===i&&s.next(t?t.reduce((e,t,s)=>(e[t]=r[s],e),{}):r),s.complete())}}))}})}},nPnQ:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("HDdC"),r=s("cp0P"),l=s("8Y7J"),n=s("IheW");let o=(()=>{class e{constructor(e){this.https=e,this.savedFilms=[],this.seenFilms=[],this.favoriteFilms=[],this.key="?api_key=bf0c6f557b4f024d829885a7e35e552d",this.langEs="&language=es-ES"}getDefaultFilm(){return this.https.get("https://api.themoviedb.org/3/movie/27205"+this.key)}getFilmDetails(e){return this.https.get("https://api.themoviedb.org/3/movie/"+e+this.key)}getFilmCredits(e){return this.https.get("https://api.themoviedb.org/3/movie/"+e+"/credits"+this.key)}getSimilarFilms(e){return this.https.get("https://api.themoviedb.org/3/movie/"+e+"/similar"+this.key)}getFilmImages(e){return this.https.get("https://api.themoviedb.org/3/movie/"+e+"/images"+this.key)}getActorDetails(e){return this.https.get("https://api.themoviedb.org/3/person/"+e+this.key)}getActorImages(e){return this.https.get("https://api.themoviedb.org/3/person/"+e+"/images"+this.key)}getActorFilms(e){return this.https.get("https://api.themoviedb.org/3/person/"+e+"/movie_credits"+this.key)}getRandomFilm(e=null,t=null,s=null,r=null,l=null,n=null,o=null,a=null){const h=null===e?"":"&primary_release_date.gte="+e+"-01-01",c=null===t?"":"&primary_release_date.lte="+t+"-12-01",u=null===s?"":"&vote_average.gte="+s,m=null===r?"":"&vote_average.lte="+r,g=null!==s&&parseInt(s.toString())>=6?"&vote_count.gte=50":"",p=null===l?"":"&certification.gte="+l,d=null===n?"":"&certification.lte="+n,f="NC-17"===n;let v="&with_genres=";null===o?v="":o.forEach((e,t)=>{v+=e,t!=o.length-1&&(v+=",")});const F="https://api.themoviedb.org/3/discover/movie"+this.key+v+h+c+g+u+m+"&certification_country=US"+p+d+"&include_adult="+f+(null===a?"":"&with_original_language="+a);return new i.a(e=>{this.https.get(F).subscribe(t=>{const s=Math.floor(Math.random()*t.total_pages)+1;this.https.get(F+"&page="+s).subscribe(t=>{if(0===t.results.length)e.next(null);else{const s=Math.floor(Math.random()*t.results.length)+1-1;this.https.get("https://api.themoviedb.org/3/movie/"+t.results[s].id+this.key).subscribe(t=>{e.next(t)})}})})})}getFilmsResults(e=null,t=null,s=null,r=null,l=!1,n=null){const o=null===e?"":"&page="+e,a=null===t?"":"&primary_release_date.gte="+t+"-01-01",h=null===s?"":"&primary_release_date.lte="+s+"-12-01",c="&include_adult="+l;let u="&with_genres=";null===r?u="":r.forEach((e,t)=>{u+=e,t!=r.length-1&&(u+=",")});const m="https://api.themoviedb.org/3/discover/movie"+this.key+o+u+a+h+c+(null===n?"":"&sort_by="+n);return new i.a(e=>{this.https.get(m).subscribe(t=>{e.next(t)})})}searchFilms(e){const t="https://api.themoviedb.org/3/search/movie"+this.key+"&query="+e;return new i.a(e=>{this.https.get(t).subscribe(t=>{e.next(t)})})}getGenresList(){return this.https.get("https://api.themoviedb.org/3/genre/movie/list"+this.key)}initSeenStatesStorage(){null==window.localStorage.savedFilms?window:this.savedFilms=JSON.parse(window.localStorage.savedFilms),null==window.localStorage.seenFilms?window:this.seenFilms=JSON.parse(window.localStorage.seenFilms),null==window.localStorage.favoriteFilms?window:this.favoriteFilms=JSON.parse(window.localStorage.favoriteFilms)}updateSeenStateStorage(){window.localStorage.savedFilms=JSON.stringify(this.savedFilms),window.localStorage.seenFilms=JSON.stringify(this.seenFilms),window.localStorage.favoriteFilms=JSON.stringify(this.favoriteFilms)}checkSeenState(e){return new i.a(t=>{let s;s=this.savedFilms.includes(e)?1:this.seenFilms.includes(e)?2:this.favoriteFilms.includes(e)?3:0,t.next(s)})}setState(e,t){switch(e){case 0:this.savedFilms=this.savedFilms.filter(e=>e!==t),this.seenFilms=this.seenFilms.filter(e=>e!==t),this.favoriteFilms=this.favoriteFilms.filter(e=>e!==t);break;case 1:this.savedFilms.push(t),this.seenFilms=this.seenFilms.filter(e=>e!==t),this.favoriteFilms=this.favoriteFilms.filter(e=>e!==t);break;case 2:this.savedFilms=this.savedFilms.filter(e=>e!==t),this.seenFilms.push(t),this.favoriteFilms=this.favoriteFilms.filter(e=>e!==t);break;case 3:this.savedFilms=this.savedFilms.filter(e=>e!==t),this.seenFilms=this.seenFilms.filter(e=>e!==t),this.favoriteFilms.push(t)}console.log(this.seenFilms),this.updateSeenStateStorage()}getSavedFilmsLists(e){let t;switch(e){case 0:t=this.savedFilms;break;case 1:t=this.seenFilms;break;case 2:t=this.favoriteFilms}return console.log(e+": Entro"),new i.a(e=>{if(t.length>0){let s=[],i=[];for(const e of t)i.push(this.getFilmDetails(e));Object(r.a)(i).subscribe(t=>{for(const[e,i]of t.entries())s.push(i);e.next(s)})}else e.next([])})}}return e.ngInjectableDef=l.Lb({factory:function(){return new e(l.Mb(n.c))},token:e,providedIn:"root"}),e})()},s7LF:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return l})),s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return a}));var i=s("8Y7J");s("cUpR"),s("cp0P"),s("Cfvw"),s("lJxs");const r=new i.o("NgValueAccessor");let l=(()=>class{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}})();const n=new i.o("NgFormSelectorWarning");let o=(()=>class{})(),a=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:n,useValue:t.warnOnDeprecatedNgFormSelector}]}}}return e})()}}]);